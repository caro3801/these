%!TEX root = main.tex
\chapter{Conclusion}
\chaptertable

Cette thèse s'inscrit dans le contexte la visualisation et de la manipulation d'objets 
3D dans un \gls{EVC} sur le web. Ce sujet intègre de nombreux verrous 
concernant différents domaines que la collaboration a tendance à réunir : gestion 
de la cohérence dans un environnement collaboratif massif en \gls{P2P}, 
architecture de communication efficace pour le passage à l'échelle et la résilience, 
modèle de données dédiée au métier de la modélisation 3D collaborative. 

Pour répondre aux différentes questions de 
recherche posées en introduction de ce manuscrit, plusieurs contributions ont été 
proposées, implantées et soumises à des expérimentations. 

%	\item[QR 1] Quelle architecture réseau est la plus adaptée pour une gestion 
%efficace, robuste et temps réel des données \gls{3D} dans un environnement 
%web ?
La \textbf{QR 1} concerne l'architecture réseau qu'un \gls{EVC3D} doit proposer 
pour 
pouvoir s'adapter à une gestion efficace, robuste et temps réel des données dans 
un environnement web. En effet, pour pouvoir collaborer les utilisateurs ont besoin 
d'une architecture de communication qui les relie de manière transparente 
intégrant un modèle de cohérence des données. 

L'architecture de communication au sein de l'\gls{EVC3D} a été l'objet de deux 
contributions successives, la seconde s'inspirant des verrous issus de la 
première. 
L'architecture hybride à maillage complet se compose d'éléments 
simples. 
Seuls 
les navigateurs des utilisateurs participent au réseau \gls{P2P}. Les données 
correspondent à l'état des objets manipulés. Les modifications sont transférées 
sous la forme d'un différentiel d'état. Bien que la politique de connectivité ne 
permettent pas un passage à l'échelle efficace, la cohérence des données sur le 
réseau est garantie de manière forte et pessimiste respectivement par le protocole 
de transport est configuré comme fiable et ordonnés, et par le mécanisme de 
verrouillage afin d'éviter l'édition concurrente d'objets 3D.

Partant de ces observations, la seconde contribution liées à l'architecture de 
communication repose sur le paradigme événementiel. Une politique de 
connectivité plus lâche permet aux pairs de devenir relais des informations. La 
partie serveur est \og descendue\fg{} au niveau de la couche \gls{P2P} pour 
permettre un accès réparti des pairs producteurs de données (navigateurs) à la
persistance des données via des pairs relais. L'ensemble des pairs partage un 
journal d'événements qui est maintenu à jour et cohérent par à deux niveaux de 
vérification : au niveau du pair, avec un système de version lié à l'ordre causal 
puis au niveau de la grappe, avec un système de vote lors de la détection de 
conflit pour accepter ou rejeter collectivement un événement. La cohérence repose 
sur une stratégie optimiste avec des contraintes sur les règles métiers dont la 
permissivité peut être configurée.
L'expérimentation 2, reposant sur cette seconde architecture, a montré que ce 
modèle optimiste est moins frustrant pour les utilisateurs. La couche \gls{P2P} est 
enrichie de nouveaux pairs dédiés à la transmission des données qui permettent 
une dissémination plus stable et rapide. Selon le nombre d'utilisateur, la montée 
en charge peut plus facilement être absorbée.


%\item[QR 2] Quelle architecture logicielle confère une traçabilité des données 
%conforme aux règles métier liées à la manipulation d'objet \gls{3D} ? 

Dans la \textbf{QR 2} sont évoqués les verrous souvent rencontrés dans la 
modélisation 3D et particulièrement lorsque le volet collaboratif s'invite. Les 
fonctionnalités d'historique et de défaire / refaire une action sont fondamentales en 
modélisation 3D. Pour assurer un suivi de la création sans perdre l'intention de 
l'utilisateur de son action à sa visualisation, la modélisation sur le paradigme 
événementiel est adapté par ses capacités à permettre une forte traçabilité des 
changements qui se produisent au sein d'un système. La modélisation passe, 
dans un premier temps, par le suivi des bonnes pratiques énoncées par le 
\gls{DDD} pour cerner les différents agrégats qui composent le domaine de la 
modélisation 3D collaborative. 
Puis, dans un second temps, deux principes sont combinés dans l'application 
cliente : 
\begin{enumerate*}[label=(\roman*)]
	\item \label{item:cqrs}la séparation de la partie écriture de la partie lecture 
	(\gls{CQRS}) ;
	\item \label{item:es} la création d'événements auto-descriptifs du changement 
	qui vient de se 
	produire (\gls{ES}).
\end{enumerate*}
%\begin{itemize}
Grâce à \ref{item:cqrs} impose plusieurs niveaux de vérification des données : de 
la saisie 
utilisateur à la validation les règles métier. Ainsi, le système, qui ne manipule que 
des événements immuables est garanti d'avoir des données valides.
Côté lecture, les vues matérialisées de l'interface sont issues de projections faites 
à partir du flux d'événements traités par le système. Les vues sont spécifiques à 
l'activité, ce qui permet de présenter une interface orientée tâche plus proche des 
attentes métiers de l'utilisateur. La projection découple les données de la base 
de données des données servant une ou plusieurs vues. En effet, son rôle 
d'intermédiaire est fournir les événements d'intérêts sous une forme dénormalisée 
pour les vues (mise en cache).
Le point \ref{item:es} reprend principalement les avantages de l'\gls{ES}, i.e. 
enregistrer la 
séquence d'événements qui a amenée à l'état courant de l'application. La 
fonctionnalité d'historique est implicitement présente dans ce patron, même ce qui 
pourrait être considéré comme une \og annulation\fg{} par l'utilisateur est conservé 
sous la forme d'un événement de compensation. L'immuabilité des événements 
capte toutes les manipulations métier de l'utilisateur. Par conséquent, la 
reconstruction des agrégats du domaine permet d'avoir un état cohérent garanti 
par l'aspect fonctionnel de ce patron. C'est particulièrement important pour 
\begin{enumerate*}[label=(\roman*)]
	\item améliorer la sensibilisation des collaborateurs à l'historique des objets 
	manipulés ;
	\item faciliter le développement d'outils de surveillance pour observer, analyser 
	et améliorer l'application ;
	\item et organiser des audits (exemple : respect d'une procédure).
\end{enumerate*}
%
%\item[QR 3] Quels sont les mécanismes assurant à l'utilisateur d'être 
%autonome tout en ayant la possibilité de collaborer ?

Une partie de la contribution décrivant le modèle événementiel révèle une partie de 
la réponse à la \textbf{QR 3}.
Le fait de déporter le patron \gls{CQRS} en totalité sur le client évite que le client 
soit dépendant du serveur pour valider le contenu créé. L'utilisateur a accès 
localement aux événements qui le concernent

%
%\item[QR 4] Comment faciliter l'implémentation d'un tel système en garantissant 
%le respect des règles métier liés à la manipulation d'objet \gls{3D}?
%
%\item[QR 5] Quelles sont les métriques (réseau, collaboration) permettant 
%d'évaluer un tel système de manière quantitative ? Qualitative ?
%
%
%
%
%
%
%\end{itemize}
%Cette thèse présente une architecture événementielle pour les \gls{EVC3D} sur 
%le 
%web. Les contributions de cette thèse sont multiples. Il y a d'une part les 
%contributions scientifiques qui porte sur l'\gls{EDA} pour la 
%modélisation 3D collaborative et d'autre part, il y a la présentation d'une 
%architecture de communication hybride permettant de synchroniser les 
%\glspl{EVC3D} sur le web de différents client.
%
%Chacune de ces contributions est accompagnée de son implantation. 
%
%De plus, la réalisation de plusieurs prototypes fonctionnant sur différents 
%paradigme pour les expérimentation ont permis de montrer les avantages et 
%inconvénients de ceux-ci.
%
%Enfin, les expérimentations principalement portées sur l'étude des utilisateurs 
%permet de souligner plusieurs aspects du modèle. Le premier est de montrer que 
%l'intégration du métier a permis l'observation minutieuse du travail réalisé au sein 
%de l'environnement. 